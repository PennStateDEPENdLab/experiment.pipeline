experiment_name: neighborhood
variable_mapping: #column names in $behav dataset for subject, mapped to standard constructs in experiment validation
  id: id
  run:
  run_trial:
  block: block
  block_trial: block_trial
  condition: condition
  trial: trial

# id: paste(participant, participant.initials, sep="_")
runs: #nothing
definitions:
  behav: &behav #shared key mapping for behavior across blocks
    response: key_pressed
    valid: [space, None]
    rt: rt
    start_time: #key_resp_10.started
    end_time: #key_resp_10.stopped

blocks:
  go_t_w:
    onset: #block-level onset
      parport_code: 84
      eye_msg: [BLOCK_BEGIN]
    offset: #block-level offset
      parport_code: 92
      eye_msg: [BLOCK_END]

    trials: 40
    behav: *behav
    events: #these must unfold in the order below
      onset:
        parport_code: 86
        eye_msg: [TRIAL_ON, 'TRIAL_ID \\d+_\\w+', TEST] #these messages must be received in order
      stim_on:
        eye_msg: [ON SCREEN]
      offset:
        parport_code: 92
        eye_msg: [DISPLAY OK]

  no_t_w:
    onset: #block-level onset
      parport_code: 85
      eye_msg: [BLOCK_BEGIN]
    offset: #block-level offset
      parport_code: 91
      eye_msg: [BLOCK_END]

    trials: 40
    events: #events within trials
      onset:
        parport_code: 99
        eye_msg: [TEST]
      offset:
        parport_code: 102
        eye_msg: ttt

  go_t_a:
    trials: 40
    behav: *behav

  no_t_a:
    trials: 40
    behav: *behav
